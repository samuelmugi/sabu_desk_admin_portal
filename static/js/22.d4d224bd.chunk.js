(this["webpackJsonprecruitment-portal"]=this["webpackJsonprecruitment-portal"]||[]).push([[22],{670:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(60),l=t.n(r),i=t(62),o=t(57),u=t(0),s=t.n(u),_=t(734),c=t(766),A=t(750),m=t(748),E=t(747),d=t(67),S=t.n(d),T=t(756),R=t(763),I=t(755),P=t(749),B=t(402),v=t(752),O=t(761),K=t(254),C=t(27),p=t(66),N=t(725),f=t(304),L=t(114),h=t.n(L),k=t(115),b=t.n(k),M=(h()(b.a),Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_FETCHADDETIALS),g=Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_CREATE,y=Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_UPDATE,U=Object(_.a)((function(e){return{fab:{margin:e.spacing(1)},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)}}})),D=function(e){U();var a,t,r,_,d,L,h,k,b,D,j,w,F,Y,H,x,W=S()(!1),G=Object(o.a)(W,2),J=G[0],V=G[1],q=S()(!1),z=Object(o.a)(q,2),Q=(z[0],z[1],S()(!0)),X=Object(o.a)(Q,2),Z=X[0],$=(X[1],S()("sm")),ee=Object(o.a)($,2),ae=ee[0],te=(ee[1],S()(null===e||void 0===e?void 0:e.allRoles)),ne=Object(o.a)(te,3),re=(ne[0],ne[1],ne[2]),le=S()(!1),ie=Object(o.a)(le,3),oe=(ie[0],ie[1]),ue=ie[2],se=S()([]),_e=Object(o.a)(se,3),ce=(_e[0],_e[1]),Ae=_e[2],me=S()({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Ee=Object(o.a)(me,3),de=(Ee[0],Ee[1]),Se=Ee[2],Te=S()(null===e||void 0===e?void 0:e.valueIntoModal),Re=Object(o.a)(Te,3),Ie=Re[0],Pe=Re[1],Be=Re[2];Object(u.useEffect)((function(){Object(i.a)(l.a.mark((function a(){var t;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"edit"===e.action&&ce(null===(t=Be.current)||void 0===t?void 0:t.userRole.permissions);case 1:case"end":return a.stop()}}),a)})))()}),[Ie]);var ve=function(e){Pe((function(a){return Object(n.a)(Object(n.a)({},a),{},{[e.target.name]:e.target.value})}))},Oe=function(e,a){Pe((function(t){return Object(n.a)(Object(n.a)({},t),{},{[e]:a})}))},Ke=function(){var e=!1,a=Be.current,t=Se.current;return de({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Object.keys(t).map((function(t){null!==a[t]&&""!==a[t]&&void 0!==a[t]||(console.log(t+" key and value is "+a[t]),de((function(e){return Object(n.a)(Object(n.a)({},e),{},{[t]:t+" is required"})})),e=!0)})),e},Ce=function(){var a=Object(i.a)(l.a.mark((function a(t){var n,r,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),oe(!0),Ke()){a.next=9;break}return null===(n=Be.current)||void 0===n||delete n.authorities,i="add"===e.action?g:y+"/"+(null===(r=Be.current)||void 0===r?void 0:r.id),a.next=8,p.a.postRequest(i,Be.current).then((function(e){var a=e.data;(null===a||void 0===a?void 0:a.requestStatus)?p.a.notifySuccess(a.message):p.a.notifyError(a.message)})).catch((function(e){console.error(e),p.a.notifyError("Oops... Something went wrong!!!")}));case 8:pe(t);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(!1),ce([]),Pe({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),de({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(l.a.mark((function e(){var a,t,n,r,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Be.current.username,e.prev=1,e.next=4,p.a.getRequest(M+"?username="+a);case 4:n=e.sent,r=JSON.parse(null===(t=n.data)||void 0===t?void 0:t.payload),i=null===r||void 0===r?void 0:r.accountname,Oe("username",i),o=null===r||void 0===r?void 0:r.firstname,Oe("firstName",o),u=null===r||void 0===r?void 0:r.email,Oe("email",u),s=null===r||void 0===r?void 0:r.lastname,Oe("lastName",s),console.log("userValuesRef=="+JSON.stringify(Be.current)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(l.a.mark((function e(a,t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.value,ce(null===(n=JSON.parse(r))||void 0===n?void 0:n.permissions),Oe("userRole",JSON.parse(r));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Le=function(){V(!0)},he=function(){V(!1)},ke=function(e){var a=0;if(0==e.length)return a;for(var t=0;t<e.length;t++){a=(a<<5)-a+e.charCodeAt(t),a&=a}return a};return s.a.createElement(C.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{content:"add"===(null===e||void 0===e?void 0:e.action)?"Add FIlter":"Edit FIlter",trigger:"add"===(null===e||void 0===e?void 0:e.action)?s.a.createElement(R.a,{positive:!0,onClick:Le,icon:"add"}):s.a.createElement(R.a,{onClick:Le,icon:"edit"})}),s.a.createElement(c.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:Z,maxWidth:ae,open:J,onClose:he,"aria-labelledby":"max-width-dialog-title"},s.a.createElement(E.a,{id:"max-width-dialog-title"},"add"===(null===e||void 0===e?void 0:e.action)?"Add FIlter":"Edit FIlter"),s.a.createElement(m.a,null,s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(I.a,null,s.a.createElement(I.a.Group,null,s.a.createElement(I.a.Input,{label:"Windows FIltername",placeholder:"Windows FIltername",name:"username",error:""!==(null===(a=Se.current)||void 0===a?void 0:a.username)&&{content:null===(t=Se.current)||void 0===t?void 0:t.username,pointing:"below"},value:null===(r=Be.current)||void 0===r?void 0:r.username,onChange:ve}),s.a.createElement(I.a.Button,{positive:!0,label:"Fetch A.D. FIlter Details...",content:"Fetch...",onClick:Ne}))))),s.a.createElement(P.a,null),s.a.createElement(I.a,null,s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(I.a.Input,{fluid:!0,label:"First name",placeholder:"First name",name:"firstName",error:""!==(null===(_=Se.current)||void 0===_?void 0:_.firstName)&&{content:null===(d=Se.current)||void 0===d?void 0:d.firstName,pointing:"below"},value:null===(L=Be.current)||void 0===L?void 0:L.firstName,onChange:ve})),s.a.createElement(f.a,null,s.a.createElement(I.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name",name:"lastName",error:""!==(null===(h=Se.current)||void 0===h?void 0:h.lastName)&&{content:null===(k=Se.current)||void 0===k?void 0:k.lastName,pointing:"below"},value:null===(b=Be.current)||void 0===b?void 0:b.lastName,onChange:ve}))),s.a.createElement(P.a,null),s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(I.a.Input,{fluid:!0,label:"Email",placeholder:"Email",name:"email",error:""!==(null===(D=Se.current)||void 0===D?void 0:D.email)&&{content:null===(j=Se.current)||void 0===j?void 0:j.email,pointing:"below"},value:null===(w=Be.current)||void 0===w?void 0:w.email,onChange:ve})),s.a.createElement(f.a,null,s.a.createElement(B.a,null,"FIlter Status"),s.a.createElement(v.a,{placeholder:"FIlter Status",name:"userStatus",validators:["required"],onChange:function(e,a){var t=a.value;Pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{userStatus:t})}))},defaultValue:null===(F=Be.current)||void 0===F?void 0:F.userStatus,error:""!==(null===(Y=Se.current)||void 0===Y?void 0:Y.userStatus),selection:!0,options:[{key:"active",value:!0,text:"Active"},{key:"inactive",value:!1,text:"In-Active"}]}))),s.a.createElement(P.a,null),s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(B.a,null,"FIlter Role"),s.a.createElement(v.a,{placeholder:"FIlter Role",name:"userRole",search:!0,error:""!==(null===(H=Se.current)||void 0===H?void 0:H.userRole),selection:!0,defaultValue:JSON.stringify(null===(x=Be.current)||void 0===x?void 0:x.userRole),onChange:fe,options:re.current})),s.a.createElement(f.a,null,s.a.createElement(O.a,null,Ae.current&&Ae.current.map((function(e,a){var t,n,r=a+(new Date).getTime().toString(36)+(null===(t=JSON.parse(e))||void 0===t?void 0:t.perm);return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a.Item,{key:ke(r),as:"a"},s.a.createElement(K.a,{name:"check circle"}),s.a.createElement(O.a.Content,{key:r},s.a.createElement(O.a.Header,null,null===(n=JSON.parse(e))||void 0===n?void 0:n.perm))))}))))),s.a.createElement(P.a,null))),s.a.createElement(A.a,null,s.a.createElement(R.a.Group,null,s.a.createElement(R.a,{disabled:ue.current,type:"submit",onClick:Ce,positive:!0},"Save"),s.a.createElement(R.a,{onClick:pe},"Reset"),s.a.createElement(R.a,{onClick:he,primary:!0},"Close"))))))};D.defaultProps={},a.default=D}}]);
//# sourceMappingURL=22.d4d224bd.chunk.js.map