(this["webpackJsonprecruitment-portal"]=this["webpackJsonprecruitment-portal"]||[]).push([[26],{671:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(60),l=a.n(r),i=a(62),o=a(57),u=a(0),s=a.n(u),_=a(734),c=a(766),A=a(750),m=a(748),E=a(747),S=a(67),d=a.n(S),T=a(756),R=a(763),P=a(755),I=a(749),B=a(402),v=a(752),O=a(761),K=a(254),C=a(27),p=a(66),N=a(725),f=a(304),h=a(114),L=a.n(h),k=a(115),b=a.n(k),M=(L()(b.a),Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_FETCHADDETIALS),g=Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_CREATE,y=Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_UPDATE,U=Object(_.a)((function(e){return{fab:{margin:e.spacing(1)},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)}}})),D=function(e){U();var t,a,r,_,S,h,L,k,b,D,j,w,Y,H,x,W,G=d()(!1),J=Object(o.a)(G,2),F=J[0],V=J[1],q=d()(!1),z=Object(o.a)(q,2),Q=(z[0],z[1],d()(!0)),X=Object(o.a)(Q,2),Z=X[0],$=(X[1],d()("sm")),ee=Object(o.a)($,2),te=ee[0],ae=(ee[1],d()(null===e||void 0===e?void 0:e.allRoles)),ne=Object(o.a)(ae,3),re=(ne[0],ne[1],ne[2]),le=d()(!1),ie=Object(o.a)(le,3),oe=(ie[0],ie[1]),ue=ie[2],se=d()([]),_e=Object(o.a)(se,3),ce=(_e[0],_e[1]),Ae=_e[2],me=d()({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Ee=Object(o.a)(me,3),Se=(Ee[0],Ee[1]),de=Ee[2],Te=d()(null===e||void 0===e?void 0:e.valueIntoModal),Re=Object(o.a)(Te,3),Pe=Re[0],Ie=Re[1],Be=Re[2];Object(u.useEffect)((function(){Object(i.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"edit"===e.action&&ce(null===(a=Be.current)||void 0===a?void 0:a.userRole.permissions);case 1:case"end":return t.stop()}}),t)})))()}),[Pe]);var ve=function(e){Ie((function(t){return Object(n.a)(Object(n.a)({},t),{},{[e.target.name]:e.target.value})}))},Oe=function(e,t){Ie((function(a){return Object(n.a)(Object(n.a)({},a),{},{[e]:t})}))},Ke=function(){var e=!1,t=Be.current,a=de.current;return Se({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Object.keys(a).map((function(a){null!==t[a]&&""!==t[a]&&void 0!==t[a]||(console.log(a+" key and value is "+t[a]),Se((function(e){return Object(n.a)(Object(n.a)({},e),{},{[a]:a+" is required"})})),e=!0)})),e},Ce=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),oe(!0),Ke()){t.next=9;break}return null===(n=Be.current)||void 0===n||delete n.authorities,i="add"===e.action?g:y+"/"+(null===(r=Be.current)||void 0===r?void 0:r.id),t.next=8,p.a.postRequest(i,Be.current).then((function(e){var t=e.data;(null===t||void 0===t?void 0:t.requestStatus)?p.a.notifySuccess(t.message):p.a.notifyError(t.message)})).catch((function(e){console.error(e),p.a.notifyError("Oops... Something went wrong!!!")}));case 8:pe(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(!1),ce([]),Ie({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Se({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Be.current.username,e.prev=1,e.next=4,p.a.getRequest(M+"?username="+t);case 4:n=e.sent,r=JSON.parse(null===(a=n.data)||void 0===a?void 0:a.payload),i=null===r||void 0===r?void 0:r.accountname,Oe("username",i),o=null===r||void 0===r?void 0:r.firstname,Oe("firstName",o),u=null===r||void 0===r?void 0:r.email,Oe("email",u),s=null===r||void 0===r?void 0:r.lastname,Oe("lastName",s),console.log("userValuesRef=="+JSON.stringify(Be.current)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.value,ce(null===(n=JSON.parse(r))||void 0===n?void 0:n.permissions),Oe("userRole",JSON.parse(r));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){V(!0)},Le=function(){V(!1)},ke=function(e){var t=0;if(0==e.length)return t;for(var a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return t};return s.a.createElement(C.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{content:"add"===(null===e||void 0===e?void 0:e.action)?"Add Shortlist":"Edit Shortlist",trigger:"add"===(null===e||void 0===e?void 0:e.action)?s.a.createElement(R.a,{positive:!0,onClick:he,icon:"add"}):s.a.createElement(R.a,{onClick:he,icon:"edit"})}),s.a.createElement(c.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:Z,maxWidth:te,open:F,onClose:Le,"aria-labelledby":"max-width-dialog-title"},s.a.createElement(E.a,{id:"max-width-dialog-title"},"add"===(null===e||void 0===e?void 0:e.action)?"Add Shortlist":"Edit Shortlist"),s.a.createElement(m.a,null,s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(P.a,null,s.a.createElement(P.a.Group,null,s.a.createElement(P.a.Input,{label:"Windows Shortlistname",placeholder:"Windows Shortlistname",name:"username",error:""!==(null===(t=de.current)||void 0===t?void 0:t.username)&&{content:null===(a=de.current)||void 0===a?void 0:a.username,pointing:"below"},value:null===(r=Be.current)||void 0===r?void 0:r.username,onChange:ve}),s.a.createElement(P.a.Button,{positive:!0,label:"Fetch A.D. Shortlist Details...",content:"Fetch...",onClick:Ne}))))),s.a.createElement(I.a,null),s.a.createElement(P.a,null,s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(P.a.Input,{fluid:!0,label:"First name",placeholder:"First name",name:"firstName",error:""!==(null===(_=de.current)||void 0===_?void 0:_.firstName)&&{content:null===(S=de.current)||void 0===S?void 0:S.firstName,pointing:"below"},value:null===(h=Be.current)||void 0===h?void 0:h.firstName,onChange:ve})),s.a.createElement(f.a,null,s.a.createElement(P.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name",name:"lastName",error:""!==(null===(L=de.current)||void 0===L?void 0:L.lastName)&&{content:null===(k=de.current)||void 0===k?void 0:k.lastName,pointing:"below"},value:null===(b=Be.current)||void 0===b?void 0:b.lastName,onChange:ve}))),s.a.createElement(I.a,null),s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(P.a.Input,{fluid:!0,label:"Email",placeholder:"Email",name:"email",error:""!==(null===(D=de.current)||void 0===D?void 0:D.email)&&{content:null===(j=de.current)||void 0===j?void 0:j.email,pointing:"below"},value:null===(w=Be.current)||void 0===w?void 0:w.email,onChange:ve})),s.a.createElement(f.a,null,s.a.createElement(B.a,null,"Shortlist Status"),s.a.createElement(v.a,{placeholder:"Shortlist Status",name:"userStatus",validators:["required"],onChange:function(e,t){var a=t.value;Ie((function(e){return Object(n.a)(Object(n.a)({},e),{},{userStatus:a})}))},defaultValue:null===(Y=Be.current)||void 0===Y?void 0:Y.userStatus,error:""!==(null===(H=de.current)||void 0===H?void 0:H.userStatus),selection:!0,options:[{key:"active",value:!0,text:"Active"},{key:"inactive",value:!1,text:"In-Active"}]}))),s.a.createElement(I.a,null),s.a.createElement(N.a,null,s.a.createElement(f.a,null,s.a.createElement(B.a,null,"Shortlist Role"),s.a.createElement(v.a,{placeholder:"Shortlist Role",name:"userRole",search:!0,error:""!==(null===(x=de.current)||void 0===x?void 0:x.userRole),selection:!0,defaultValue:JSON.stringify(null===(W=Be.current)||void 0===W?void 0:W.userRole),onChange:fe,options:re.current})),s.a.createElement(f.a,null,s.a.createElement(O.a,null,Ae.current&&Ae.current.map((function(e,t){var a,n,r=t+(new Date).getTime().toString(36)+(null===(a=JSON.parse(e))||void 0===a?void 0:a.perm);return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a.Item,{key:ke(r),as:"a"},s.a.createElement(K.a,{name:"check circle"}),s.a.createElement(O.a.Content,{key:r},s.a.createElement(O.a.Header,null,null===(n=JSON.parse(e))||void 0===n?void 0:n.perm))))}))))),s.a.createElement(I.a,null))),s.a.createElement(A.a,null,s.a.createElement(R.a.Group,null,s.a.createElement(R.a,{disabled:ue.current,type:"submit",onClick:Ce,positive:!0},"Save"),s.a.createElement(R.a,{onClick:pe},"Reset"),s.a.createElement(R.a,{onClick:Le,primary:!0},"Close"))))))};D.defaultProps={},t.default=D}}]);
//# sourceMappingURL=26.67dcc45b.chunk.js.map