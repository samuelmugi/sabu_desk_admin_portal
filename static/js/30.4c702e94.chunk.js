(this["webpackJsonprecruitment-portal"]=this["webpackJsonprecruitment-portal"]||[]).push([[30],{139:function(e,a,t){"use strict";var n=t(1),r=t(53),l=t(0),i=(t(5),t(50)),o=t(56),s=t(864),_=l.forwardRef((function(e,a){var t=e.children,o=e.classes,_=e.className,u=e.disableTypography,c=void 0!==u&&u,A=Object(r.a)(e,["children","classes","className","disableTypography"]);return l.createElement("div",Object(n.a)({className:Object(i.a)(o.root,_),ref:a},A),c?t:l.createElement(s.a,{component:"h2",variant:"h6"},t))}));a.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(_)},787:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(61),l=t.n(r),i=t(62),o=t(60),s=t(0),_=t.n(s),u=t(855),c=t(890),A=t(872),m=t(870),d=t(139),E=t(66),S=t.n(E),T=t(882),R=t(887),P=t(878),I=t(871),B=t(27),v=t(65),O=t(123),K=t.n(O),p=t(124),C=t.n(p),N=(Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_FETCHADDETIALS,Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_CREATE),f=Object({NODE_ENV:"production",PUBLIC_URL:"/sabu_desk_admin_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_KB_PORTAL_BASE_URL:"http://localhost:5050/ImbankKB/",REACT_APP_KB_PORTAL_SIGN_IN:"KBAuth/signin",REACT_APP_KB_PORTAL_SIGN_OUT:"KBAuth/signout",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH_BY_NAME:"ImBankSystem/searchBySystemName",REACT_APP_KB_PORTAL_IMBANKSYSTEM_CREATE:"ImBankSystem/create",REACT_APP_KB_PORTAL_IMBANKSYSTEM_SEARCH:"ImBankSystem/search",REACT_APP_KB_PORTAL_IMBANKSYSTEM_LIST:"ImBankSystem/listAll",REACT_APP_KB_PORTAL_IMBANKSYSTEM_ALL_LIST:"ImBankSystem/listAllSystems",REACT_APP_KB_PORTAL_IMBANKISSUE_CREATE:"ImBankIssue/create",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RESOLUTION:"ImBankIssue/addResolution/",REACT_APP_KB_PORTAL_IMBANKISSUE_ADD_RATING:"ImBankIssue/addResolutionRating/",REACT_APP_KB_PORTAL_IMBANKISSUE_SEARCH:"ImBankIssue/search",REACT_APP_KB_PORTAL_IMBANKISSUE_LIST:'"ImBankIssue/listAll"'}).REACT_APP_KB_PORTAL_USER_UPDATE,L=Object(u.a)((function(e){return{fab:{margin:e.spacing(1)},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)}}})),h=function(e){L();var a,t,r,u,E,O,p,h,b,k,M,g,y,U,j,D,w,Y,x,H=S()(!1),G=Object(o.a)(H,2),W=G[0],q=G[1],F=S()(!1),J=Object(o.a)(F,3),V=(J[0],J[1],J[2]),z=S()("#60991f"),Q=Object(o.a)(z,2),X=Q[0],Z=(Q[1],S()(!1)),$=Object(o.a)(Z,2),ee=($[0],$[1],S()(!0)),ae=Object(o.a)(ee,2),te=ae[0],ne=(ae[1],S()("sm")),re=Object(o.a)(ne,2),le=re[0],ie=(re[1],S()(null===e||void 0===e?void 0:e.allRoles)),oe=Object(o.a)(ie,3),se=(oe[0],oe[1],oe[2]),_e=S()(!1),ue=Object(o.a)(_e,3),ce=(ue[0],ue[1]),Ae=ue[2],me=S()([]),de=Object(o.a)(me,3),Ee=(de[0],de[1]),Se=(de[2],S()({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""})),Te=Object(o.a)(Se,3),Re=(Te[0],Te[1]),Pe=Te[2],Ie=S()(null===e||void 0===e?void 0:e.valueIntoModal),Be=Object(o.a)(Ie,3),ve=Be[0],Oe=Be[1],Ke=Be[2];Object(s.useEffect)((function(){Object(i.a)(l.a.mark((function a(){var t;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"edit"===e.action&&Ee(null===(t=Ke.current)||void 0===t?void 0:t.userRole.permissions);case 1:case"end":return a.stop()}}),a)})))()}),[ve]);var pe=function(e){Oe((function(a){return Object(n.a)(Object(n.a)({},a),{},{[e.target.name]:e.target.value})}))},Ce=function(e,a){Oe((function(t){return Object(n.a)(Object(n.a)({},t),{},{[e]:a})}))},Ne=function(){var e=!1,a=Ke.current,t=Pe.current;return Re({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Object.keys(t).map((function(t){null!==a[t]&&""!==a[t]&&void 0!==a[t]||(console.log(t+" key and value is "+a[t]),Re((function(e){return Object(n.a)(Object(n.a)({},e),{},{[t]:t+" is required"})})),e=!0)})),e},fe=function(){var a=Object(i.a)(l.a.mark((function a(t){var n,r,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),ce(!0),Ne()){a.next=9;break}return null===(n=Ke.current)||void 0===n||delete n.authorities,i="add"===e.action?N:f+"/"+(null===(r=Ke.current)||void 0===r?void 0:r.id),a.next=8,v.a.postRequest(i,Ke.current).then((function(e){var a=e.data;(null===a||void 0===a?void 0:a.requestStatus)?v.a.notifySuccess(a.message):v.a.notifyError(a.message)})).catch((function(e){console.error(e),v.a.notifyError("Oops... Something went wrong!!!")}));case 8:Le(t);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Le=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!1),Ee([]),Oe({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""}),Re({username:"",email:"",firstName:"",lastName:"",userRole:"",userStatus:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(i.a)(l.a.mark((function e(a,t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.value,Ee(null===(n=JSON.parse(r))||void 0===n?void 0:n.permissions),Ce("userRole",JSON.parse(r));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),be=function(){q(!0)},ke=function(){q(!1)};return _.a.createElement(B.a,null,_.a.createElement(_.a.Fragment,null,_.a.createElement(T.a,{content:"add"===(null===e||void 0===e?void 0:e.action)?"Add User":"Edit User",trigger:"add"===(null===e||void 0===e?void 0:e.action)?_.a.createElement(R.a,{positive:!0,onClick:be,icon:"add"}):_.a.createElement(R.a,{onClick:be,icon:"edit"})}),_.a.createElement(c.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:te,maxWidth:le,open:W,onClose:ke,"aria-labelledby":"max-width-dialog-title"},_.a.createElement(K.a,{active:V.current,spinner:_.a.createElement(C.a,{color:X,loading:V.current})},_.a.createElement(d.a,{id:"max-width-dialog-title"},"add"===(null===e||void 0===e?void 0:e.action)?"Add User":"Edit User"),_.a.createElement(m.a,null,_.a.createElement(P.a,null,_.a.createElement(P.a.Group,{widths:"equal"},_.a.createElement(P.a.Input,{label:"Username",placeholder:"Username",name:"username",error:""!==(null===(a=Pe.current)||void 0===a?void 0:a.username)&&{content:null===(t=Pe.current)||void 0===t?void 0:t.username,pointing:"below"},value:null===(r=Ke.current)||void 0===r?void 0:r.username,onChange:pe}),_.a.createElement(P.a.Input,{fluid:!0,label:"First name",placeholder:"First name",name:"firstName",error:""!==(null===(u=Pe.current)||void 0===u?void 0:u.firstName)&&{content:null===(E=Pe.current)||void 0===E?void 0:E.firstName,pointing:"below"},value:null===(O=Ke.current)||void 0===O?void 0:O.firstName,onChange:pe}),_.a.createElement(P.a.Input,{fluid:!0,label:"Last name",placeholder:"Last name",name:"lastName",error:""!==(null===(p=Pe.current)||void 0===p?void 0:p.lastName)&&{content:null===(h=Pe.current)||void 0===h?void 0:h.lastName,pointing:"below"},value:null===(b=Ke.current)||void 0===b?void 0:b.lastName,onChange:pe})),_.a.createElement(P.a.Group,{widths:"equal"},_.a.createElement(P.a.Input,{fluid:!0,label:"phone",placeholder:"phone",name:"email",error:""!==(null===(k=Pe.current)||void 0===k?void 0:k.email)&&{content:null===(M=Pe.current)||void 0===M?void 0:M.email,pointing:"below"},value:null===(g=Ke.current)||void 0===g?void 0:g.email,onChange:pe}),_.a.createElement(P.a.Input,{fluid:!0,label:"Email",placeholder:"Email",name:"email",error:""!==(null===(y=Pe.current)||void 0===y?void 0:y.email)&&{content:null===(U=Pe.current)||void 0===U?void 0:U.email,pointing:"below"},value:null===(j=Ke.current)||void 0===j?void 0:j.email,onChange:pe})),_.a.createElement(P.a.Group,{widths:"equal"},_.a.createElement(P.a.Field,{control:I.a,label:"User Status",placeholder:"User Status",name:"userStatus",validators:["required"],onChange:function(e,a){var t=a.value;Oe((function(e){return Object(n.a)(Object(n.a)({},e),{},{userStatus:t})}))},defaultValue:null===(D=Ke.current)||void 0===D?void 0:D.userStatus,error:""!==(null===(w=Pe.current)||void 0===w?void 0:w.userStatus),selection:!0,options:[{key:"active",value:!0,text:"Active"},{key:"inactive",value:!1,text:"In-Active"}]}),_.a.createElement(P.a.Field,{control:I.a,placeholder:"User Role",name:"userRole",label:"User Role",search:!0,error:""!==(null===(Y=Pe.current)||void 0===Y?void 0:Y.userRole),selection:!0,defaultValue:JSON.stringify(null===(x=Ke.current)||void 0===x?void 0:x.userRole),onChange:he,options:se.current})))),_.a.createElement(A.a,null,_.a.createElement(R.a.Group,null,_.a.createElement(R.a,{disabled:Ae.current,type:"submit",onClick:fe,positive:!0},"Save"),_.a.createElement(R.a,{onClick:Le},"Reset"),_.a.createElement(R.a,{onClick:ke,primary:!0},"Close")))))))};h.defaultProps={},a.default=h}}]);
//# sourceMappingURL=30.4c702e94.chunk.js.map